<html>
  <body>
    <head><title>地球の曲率計算機</title></head>
 
 <form method=get action="https://luvsci.github.io/practice/index.html">
    <dl>
    <hr>
    データ入力
    <hr>
        <dt>観察者の高さ：</dt>
        <dd><input type="number" class="box" name="eyeheight" value="1"> m</dd>
        <dt>対象物までの距離：</dt>
        <dd><input type="number" class="box" name="distanceF" value="10"> km</dd>
      
        <p><input type="button" class="calc-btn" onclick="calc(eyeheight.value, distanceF.value);" value="計算"></p>

<hr>自動出力<hr>
        <dt>水平線までの距離：</dt>
        <dd><input id="horizonD" class="box" type="text" readonly=""> km</dd>
        <dt>沈み込み：</dt>
        <dd><input id="hiddenX" class="box" type="text" readonly=""> m</dd>
        <dt></dt>
        <dd><input id="radius" class="box" type="hidden" readonly=""></dd>
        <dt></dt>
        <dd><input id="horizonE" class="box" type="hidden" readonly=""></dd>

    </dl>
</form>


<script>
    function calc(eyeheight, distanceF)
     {
        var eyeheight.value = eyeheight
        var distanceF.value = distanceF
        const radius = document.getElementById('radius').value = 6371000;
        var horizonD = document.getElementById('horizonD').value = Math.sqrt(eyeheight * eyeheight + 2 * radius * (eyeheight))/1000 ;
        var horizonE = document.getElementById('horizonE').value = (distanceF - horizonD);
        var hiddenX = document.getElementById('hiddenX').value = Math.sqrt(horizonE*1000 * horizonE*1000 + radius * radius) - radius ;
//         var paramstr = document.location.search;
//         document.location.href = "https://luvsci.github.io/practice/index.html"+paramstr;
        console.log(eyeheight);
        console.log(distanceF);
               console.log(radius);
               console.log(horizonD);
               console.log(horizonE);
       
       
      }

</script>       
    
  </body>
</html>
